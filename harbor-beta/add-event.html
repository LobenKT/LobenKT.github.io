<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Organizer - Admin Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body style="background-color: #fff; color: #000; font-family: 'Raleway', sans-serif;">
  <div id="adminApp" class="container mt-4">
    <!-- Header -->
    <header class="header mb-4 text-center">
      <h1 class="text-danger fw-bold">Event Organizer Admin Page</h1>
      <p class="text-muted">Add new events and manage your event database.</p>
    </header>

    <!-- Add Event Form -->
    <div class="card p-4 shadow-lg" style="border-radius: 8px;">
      <h3 class="text-danger">Add New Event</h3>
      <form @submit.prevent="addEvent">
        <!-- Title -->
        <div class="mb-3">
          <label for="title" class="form-label fw-semibold">Event Title</label>
          <input type="text" id="title" class="form-control" v-model="newEvent.title" required>
        </div>

        <!-- Image URL -->
        <div class="mb-3">
          <label for="image" class="form-label fw-semibold">Event Image URL</label>
          <input type="url" id="image" class="form-control" v-model="newEvent.image" placeholder="https://example.com/event.jpg">
        </div>

        <!-- Tag -->
        <div class="mb-3">
          <label for="tag" class="form-label fw-semibold">Event Tag</label>
          <input type="text" id="tag" class="form-control" v-model="newEvent.tag" required>
        </div>

        <!-- Host -->
        <div class="mb-3">
          <label for="host" class="form-label fw-semibold">Host</label>
          <input type="text" id="host" class="form-control" v-model="newEvent.host" required>
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label fw-semibold">Event Description</label>
          <textarea id="description" class="form-control" rows="3" v-model="newEvent.description" required></textarea>
        </div>

        <!-- Date -->
        <div class="mb-3">
          <label for="date" class="form-label fw-semibold">Event Date</label>
          <input type="date" id="date" class="form-control" v-model="newEvent.date" required>
        </div>

        <!-- Time -->
        <div class="mb-3">
          <label for="time" class="form-label fw-semibold">Event Time</label>
          <input type="text" id="time" class="form-control" v-model="newEvent.time" placeholder="e.g., 10 AM - 5 PM" required>
        </div>

        <!-- Location -->
        <div class="mb-3">
          <label for="location" class="form-label fw-semibold">Event Location</label>
          <input type="text" id="location" class="form-control" v-model="newEvent.location" required>
        </div>

        <!-- City -->
        <div class="mb-3">
          <label for="city" class="form-label fw-semibold">City</label>
          <input type="text" id="city" class="form-control" v-model="newEvent.city" required>
        </div>

        <!-- Deadline Title -->
        <div class="mb-3">
          <label for="deadlineTitle" class="form-label fw-semibold">Deadline Title</label>
          <input type="text" id="deadlineTitle" class="form-control" v-model="newEvent.deadlineTitle" required>
        </div>

        <!-- Deadline -->
        <div class="mb-3">
          <label for="deadline" class="form-label fw-semibold">Deadline</label>
          <input type="datetime-local" id="deadline" class="form-control" v-model="newEvent.deadline" required>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-danger w-100">Add Event</button>
      </form>
    </div>
  </div>

  <!-- Vue.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>

  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Firebase and Vue.js Initialization -->
  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDtrfaYigKySBJIlib_EKBdG8C_wsLucs8",
      authDomain: "harbor-beta.firebaseapp.com",
      projectId: "harbor-beta",
      storageBucket: "harbor-beta.firebasestorage.app",
      messagingSenderId: "254070641518",
      appId: "1:254070641518:web:c9f4afa53fc62a576ee77f"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Vue.js App
    const adminApp = Vue.createApp({
      data() {
        return {
          newEvent: {
            title: '',
            image: '',
            tag: '',
            host: '',
            description: '',
            date: '',
            time: '',
            location: '',
            city: '',
            deadlineTitle: '',
            deadline: '',
          },
        };
      },
      methods: {
        async addEvent() {
          try {
            // Add a new event to Firestore
            await db.collection("events").add(this.newEvent);

            // Reset the form after submission
            this.newEvent = {
              title: '',
              image: '',
              tag: '',
              host: '',
              description: '',
              date: '',
              time: '',
              location: '',
              city: '',
              deadlineTitle: '',
              deadline: '',
            };

            alert("Event successfully added!");
          } catch (error) {
            console.error("Error adding event:", error);
            alert("Failed to add event. Check console for errors.");
          }
        },
      },
    });

    adminApp.mount("#adminApp");
  </script>
</body>
</html>
